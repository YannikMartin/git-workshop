<!DOCTYPE html>
<html>
<head>
	<title>Fibonacci numbers</title>
	<script type="text/javascript">
		function showFibonacciNumbers(event) {
			event.preventDefault(); //Needed to prevent a page reload
			const n = event.target.n.value; //Reads the value from the input field

			const fibonacciNumbers = computeFirstNFibonacciNumbers(n); //Compute the first n Fibonacci numbers

			const list = getList();
			clearList(list);
			populateList(list, fibonacciNumbers);
		}

		/**
		 * This function returns an array with the first n Fibonacci numbers.
		 */
		function computeFirstNFibonacciNumbers(n) {
			let fibonacciNumbers = [0, 1];
			for (let i = 2; i < n; ++i) {
				fibonacciNumbers[i] = fibonacciNumbers[i - 1] + fibonacciNumbers[i - 2];
			}

			return fibonacciNumbers.slice(0, n);
		}

		function getList() {
			return document.getElementById("numbers");
		}

		function clearList(list) {
			while (list.hasChildNodes()) {
				list.removeChild(list.firstChild);
			}
		}

		function populateList(list, fibonacciNumbers) {
			//Add the Fibonacci numbers to the list
			fibonacciNumbers.forEach(
				function (fibonacciNumber, index) {
					const entry = document.createElement("li");
					entry.textContent = "fib(" + index + ") = " + fibonacciNumber;
					entry.style.color = getColorForIndex(index);
					list.appendChild(entry);
				}
			);
		}

		function getColorForIndex(index) {
			switch (index % 2) {
				case 0: //Even
					return "purple";
				case 1: //Odd
					return "green";
			}
		}
	</script>
	<style>
		li {
			font-weight: bold;
			padding: 0.25em;
		}
	</style>
</head>
<body>
	<form onsubmit="showFibonacciNumbers(event)">
		<label>
			n: <input type="number" name="n" value="2" max="30"/>
		</label>

		<button>
			Print the Fibonacci numbers!
		</button>
	</form>
	<ul id="numbers"></ul>
</body>
</html>